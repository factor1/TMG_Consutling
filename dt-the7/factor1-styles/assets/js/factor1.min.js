!function(e){console.log("[Success! - Factor1 JS Initialized]"),e(document).ready(function(){if(e("body.post-type-archive-tmg_resources").length){var t=e("#resource-posts"),a=window.loggedin||!1,r=window.wpJsonUrl||"";if(r){var o={fetch:function(){e.get(r+"tmg_resources/?_embed",{get_param:"value",category:e("div.filter-select.categories").data("value"),tag:e("div.filter-select.tags").data("value")},function(e){if(t.empty(),e&&e.length){var r=e.map(function(e){var t=[],r=e._embedded["wp:term"]||[];r.forEach(function(e){e.forEach(function(e){t.push({id:e.id,name:e.name,link:e.link,taxonomy:e.taxonomy})})});var o=t.filter(function(e){return"resource_category"===e.taxonomy}),c=t.filter(function(e){return"resource_tag"===e.taxonomy}),i=new Date(Date.parse(e.date)),n={id:e.id||"",title:e.title.rendered||"",date:i.toDateString(),link:e.link||"",thumbnail:e._embedded["wp:featuredmedia"][0].media_details.sizes.resources.source_url||"",excerpt:e.excerpt.rendered||"",categories:o,tags:c,resourceType:e.acf.resource_type,resourceUpload:e.acf.resource_upload};return n.button=function(){return a?"free"===n.resourceType?'<a href="'+n.resourceUpload+'" class="resource-button">Download</a>':'<a href="'+n.link+'" class="resource-button">Download</a>':"free"===n.resourceType?'<a href="'+n.link+'" class="resource-button">Download</a>':'<a class="resource-button f1login" onClick="openModal()">Login to download</a>'}(),n});r.forEach(function(e){t.append('<div class="row" style="margin-bottom: 40px;"><div class="col-3 text-center"><img src="'+e.thumbnail+'" /></div><div class="col-9"><h2 class="resource-title">'+e.title+'</h2><span class="resource-post-date">'+e.date+'</span> <span class="resource-category">'+e.categories.map(function(e){return e.name}).join(", ")+'</span> | <span class="resource-topics">Topics:</span> '+e.tags.map(function(e){return e.name}).join(", ")+' <div class="resource-excerpt">'+e.excerpt+e.button+"</div></div></div>")})}},"json")}};e(document).on("click","div.filter-select",function(t){e(this).toggleClass("active")}),e(document).on("click","div.filter-dropdown li",function(t){var a=e(this).closest(".filter-select"),r=a.children("span:first-child");a.data("value",e(this).data("value")),r.html(e(this).text())}),e(document).on("click","a.filter-submit",function(e){e.preventDefault(),o.fetch()}),e(document).on("click","a.filter-clear",function(t){t.preventDefault(),e("div.filter-select.categories").removeClass("active").data("value","").children("span:first-child").html("Categories"),e("div.filter-select.tags").removeClass("active").data("value","").children("span:first-child").html("Topics"),o.fetch()}),e("a.filter-clear").click()}}})}(jQuery);