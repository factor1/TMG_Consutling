console.log("[Success! - Factor1 JS Initialized]");var siteURL="http://factor1.me/2016/tmg";jQuery(document).ready(function(){jQuery("body").hasClass("post-type-archive-tmg_resources")&&(console.log("Has correct body class for Rest API"),jQuery.ajax({method:"GET",url:siteURL+"/wp-json/wp/v2/tmg_resources/?_embed",data:{get_param:"value"},dataType:"json",success:function(e){console.log("[Loaded Posts Successfully]"),jQuery("#resource-posts").empty(),jQuery.each(e,function(e,s){var o=this.title.rendered,t=this.excerpt.rendered,r=this.date,a=this._embedded["wp:featuredmedia"][0].media_details.sizes.resources.source_url,c=[],n=[],u=this._embedded["wp:term"],l=this.link,d=this.acf.resource_type,i=this.acf.resource_upload;loggedin===!1?(console.log("[User not logged in]"),"free"==d?postButton='<a href="'+l+'" class="resource-button">Download</a>':postButton='<a href="#" class="resource-button">Login to download</a>'):(console.log("[User is logged in]"),"free"==d?postButton='<a href="'+i+'" class="resource-button">Download</a>':postButton='<a href="'+l+'" class="resource-button">Download</a>'),jQuery.each(u,function(e,s){var o=this[0].taxonomy,t=this[0].name;"resource_category"==o?c.push(t):n.push(t)}),console.log(c),console.log(n),jQuery("#resource-posts").append('<div class="row" style="margin-bottom: 40px;"><div class="col-3 text-center"><img src="'+a+'"></div><div class="col-9"><h2 class="resource-title">'+o+'</h2><span class="resource-post-date">'+r+'</span> <span class="resource-category">postCat</span> | <span class="resource-topics">Topics:</span> postTags <div class="resource-excerpt">'+t+postButton+"</div></div></div>")})}}))});